
HybridCLR
	macos系统下编译libil2cpp.a时，执行bash ./build_libil2cpp.sh报错，直接拖到cmd运行不报错(3.2版本后已经全部自动化不需要libil2cpp.a)
	自己编译dll，添加热更新dlls列表，只是为了生成补充元数据文件AOTGenericReferences，原则上不需要添加热更新dlls编译
	实测在热更工程中写Mono脚本，挂载到预制体上，通过bundle加载会丢失，可能与xasset打包有关，所以Mono脚本要写在主工程中，交互使用Action/Func委托
	实测Assembly.Load添加pdb文件报错，可能与外部编译热更工程有关，使用unity assemblydefinition可能会解决，但是assemblydefinition引用会出问题，除非所有代码都用assemblydefinition才能解决引用问题

代码裁剪问题
	Could not produce class with ID
	http://docs.unity3d.com/Manual/ClassIDReference.html 找到ID对应的class，加到link.xml中
	
Luban
	必要文件 Tools(example中luban不是最新版本直接下载luban/release最新版) MiniTemplate/Datas MiniTemplate/Defines MiniTemplate/luban.conf Projects/Csharp_Unity_bin/gen.bat
	修改gen.bat路径问题
	仿照.bat添加.sh
	修改Tools/Luban/Templates/cs_bin模板(使用对比工具、查看log)
	对比projects/Csharp_Unity_bin/Packages包中的luban对应条目
	
XAsset
	经测试并非官网所说的根据文件做的依赖
		prefab1依赖mat1、prefab2依赖mat2，prefab1 prefab2打包到一起，mat1 mat2单独打包
		如果按照文件做依赖加载prefab1，只需要加载两个ab包，但是测试加载了三个（卸载没有问题正常卸载了三个）
		
	每次更新完成单独提交一次修改以便查看
	更新时需要对比示例更新流程和当前更新流程，看是否有遗漏
	免费版需要在GetDownloadSizeRequest中添加局部按需更新功能（最新版已经包含该功能）
	免费版需要打开单个资源卸载References.Enabled=true
	免费版回收系统重复回收问题（如果load unload load unload同一个资源情况下，会出现同一个assetrequest被回收两次的情况）
		Recycler.RecycleAsync 添加判断 if(!Recyclables.Contains(recyclable))（最新版已经包含该功能）
		LoadRequest.LoadAsync 添加取消 Recycler.CancelRecycle(this)
	Assets中LoadPlayerAssets自动赋值UpdateInfoURL和DownloadURL（最新版已经包含该功能）
	Scheduler._realtimeSinceStartup在AsyncManager中修改，以便控制xasset分片（AsyncManager.Update优先级高于xasset）
	DownloadRequestBase Reset 添加 progress=0（被重复利用时progress=1导致进度条异常）
	
YooAsset
	使用对比工具
	TaskPrepare_SBP检测输出目录是否存在，存在的情况下也可以打包，避免频繁修改VersionConfig文件
	屏蔽YooAssetsDriver中的Update，修改YooAssets中的Update
WebGL
	System.Net无法使用
	socket库使用 https://github.com/sta/websocket-sharp 编译dll
微信小游戏
	使用webgl2.0(beta)+gamma 或者 webgl2.0(beta)+线性空间(鸿蒙黑屏)
	QualitySettings.SetQualityLevel(lv);导致崩溃（minigame最新版已修复）
	使用cdn下载资源，无需上传StreamingAssets文件夹
	缓存策略：https://wechat-miniprogram.github.io/minigame-unity-webgl-transform/Design/FileCache.html
	bundleExcludeExtensions对缓存十分重要
	bundlePathIdentifier对缓存十分重要
	yooasset
		Samples~中Extension Sample文件直接使用
		不支持ab包加密
		BuildEditor打包需要EFileNameStyle.BundleName_HashName格式
		微信小游戏需要关闭WebGL的缓存系统YooAssets.SetCacheSystemDisableCacheOnWebGL()（2.2.x版本不需要）
		微信小游戏热更需要修改resversion，需要保证不同于StreamingAssets下的resversion（2.2.x版本不需要）
		bundleExcludeExtension缓存需要.version;.bytes;.hash;.json;
		bundlePathIdentifier缓存需要1.2.0
	
ECS+Job+Brust
	ECS中Component
		都是数据，方便数据回滚，逻辑都在System中
		都是值类型，内存连续提高缓存命中率(List、Array引用连续内存分散，Array<值类型>内存连续)
		热插拔减少耦合
	ecs实践
		C#无法保证内存连续，system筛选entity性能差，采用注册方式，又会增加耦合，所以ecs牺牲性能解耦(多线程除外)
	我的ecs
		没有数据回滚需求
		不需要值类型增加代码复杂度
		只保留ec热插拔结构，s中的逻辑分散到ec中
		采用注册方式:cs无耦合、es注册耦合、ec强耦合(e依赖c、特殊c依赖e)
	Job多线程有些类似于computeShader
	Brust只能在Job中使用
	万人同屏：JobSystem+Brust+BatchRendererGroup(ECS目前阶段局限性太大)
		https://www.wpsshop.cn/blog/UNITY/detail/36281
		https://blog.csdn.net/final5788/article/details/132912995
		https://blog.csdn.net/final5788/article/details/132953620
		https://github.com/Unity-Technologies/brg-shooter
		
GPUInstancing限制
	DrawMeshInstanced只能有一个mesh数据
	动画：预计算所有动画的所有顶点数据(转成贴图)即GPU动画
	IK动画：无法预计算，只能GPU实现一套动画系统
	
protobuf-net
	github下载最新版，使用vs2022编译(如果编译失败尝试更新vs)
	
newtonjson
	release13.0.3 bin/.net45/dll
	直接使用git工程android端出现不兼容问题，unity(.net48)和newtonjson(.net45) .net版本不一致导致
	使用packagemanager add packet by name方式添加
	name:com.unity.nuget.newtonsoft-json
	version:3.2.1
	
URP
	Profiler显示urp Gfx.PresentFrame耗时高，并非GPU渲染耗时高，Gfx.PresentFrame=GPU渲染时间+WaitForTargetFPS时间
	Unity.Profiling.ProfilerMarker.Begin对urp性能严重影响，务必添加宏UNITY_EDITOR判断
	
SuperScrollView调整
	LoopListViewItem2中添加UIChildItem
	修改mDistanceForRecycle0、mDistanceForNew0、mDistanceForRecycle1、mDistanceForNew1默认值

Occlusion Culling
	消耗部分CPU去掉不可见物体，降低GPU的负载
LOD
	消耗内存换性能
GPU地形大世界地形解决方案

SpriteAtlas
	无法使用自动导入设置，common是已调好的设置参数，新建SpriteAtlas时copy后修改文件夹即可
	
RVO
	没有删除功能，添加删除功能，涉及到的修改:
		Worker中strat、end改为private List<Agent> agents = new List<Agent>();
		Simulator agents_改成dic不通过下标索引通过uniqueId查找
		Simulator中添加待加入列表waitAdd、waitRemove
		Simulator中添加DeleteAgent
		Simulator中doStep先进行添加删除操作，兼容webgl无法多线程
		Simulator中SetNumWorkers进行workers_初始化
		KdTree中buildAgentTree修改
		初始位置必须添加随机，保证两个Agent不同，否则会出现NaN报错
		
新工程
	添加新的cdn
	修改cdn地址：buildeditor、gamesetting
	修改打包路径：build/unitybuild.bat
	修改打包机参数
	修改Preferences/Customer
	修改minigameconfig.asset导出路径