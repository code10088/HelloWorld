using ProtoBuf;
using System;
public class NetMsgId
{
{{~ for msg in messages ~}}
    public const ushort {{ msg.name }} = {{ msg.id }};
{{~ end ~}}
}
public partial class NetMsgDispatch
{
    private bool Deserialize(ushort id, Memory<byte> memory)
    {
        try
        {
            IExtensible msg = null;
            switch (id)
            {
{{~ for msg in messages ~}}
    {{~ if msg.id >= 10000 ~}}
                case NetMsgId.{{ msg.name }}: msg = Serializer.Deserialize<{{ msg.type }}>(memory); break;
    {{~ end ~}}
{{~ end ~}}
            }
            HandleMsg(id, msg);
            return true;
        }
        catch (Exception e)
        {
            GameDebug.LogError(e.Message);
            return false;
        }
    }
}